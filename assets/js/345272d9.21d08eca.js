"use strict";(self.webpackChunkany_doc=self.webpackChunkany_doc||[]).push([[3107],{77760:function(e,n,t){t.r(n),t.d(n,{assets:function(){return c},contentTitle:function(){return s},default:function(){return d},frontMatter:function(){return i},metadata:function(){return a},toc:function(){return l}});var o=t(11527),r=t(67541);const i={last_update:{date:1708178661178}},s="\u66f4\u65b0 Chrome \u6269\u5c55",a={id:"technology/update-chrome-plugin",title:"\u66f4\u65b0 Chrome \u6269\u5c55",description:"",source:"@site/docs/10-technology/11-update-chrome-plugin.md",sourceDirName:"10-technology",slug:"/technology/update-chrome-plugin",permalink:"/technology/update-chrome-plugin",draft:!1,unlisted:!1,editUrl:"https://github.com/share121/share121.github.io/edit/main/docs/10-technology/11-update-chrome-plugin.md",tags:[],version:"current",lastUpdatedBy:"share121",lastUpdatedAt:1708178661.178,formattedLastUpdatedAt:"2024\u5e742\u670817\u65e5",sidebarPosition:11,frontMatter:{last_update:{date:1708178661178}},sidebar:"tutorialSidebar",previous:{title:"MiSans \u5b57\u4f53\u4e0b\u8f7d",permalink:"/technology/misans-font-download"},next:{title:"\u4e60\u8fd1\u5e73\u65b0\u65f6\u4ee3\u4e2d\u56fd\u7279\u8272\u793e\u4f1a\u4e3b\u4e49\u601d\u60f3",permalink:"/\u56e2\u6821\u7b14\u8bb0/01"}},c={},l=[];function u(e){const n={code:"code",h1:"h1",pre:"pre",...(0,r.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"\u66f4\u65b0-chrome-\u6269\u5c55",children:"\u66f4\u65b0 Chrome \u6269\u5c55"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:'title="1-\u83b7\u5f97\u6269\u5c55\u6570\u636e"',children:'JSON.stringify(\n  [\n    ...document\n      .querySelector("extensions-manager")\n      .shadowRoot.querySelector("#items-list")\n      .shadowRoot.querySelectorAll("extensions-item"),\n  ].map((e) => ({\n    id: e.shadowRoot\n      .querySelector("#extension-id")\n      .innerText.replace(/^ID.*?(\\w)/, "$1"),\n    name: e.shadowRoot.querySelector("#name").innerText,\n    version: e.shadowRoot.querySelector("#version").innerText,\n  }))\n);\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:'title="2-\u6253\u5f00 crx \u641c\u641c"',children:'location.href = "https://www.crxsoso.com";\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:'title="3-\u68c0\u67e5\u6269\u5c55\u66f4\u65b0"',children:'(async () => {\n  const input = prompt("\u8bf7\u8f93\u5165\u6269\u5c55\u6570\u636e");\n  if (typeof input === "string") {\n    const data = JSON.parse(input);\n    const updateList = [];\n    for (let item of data) {\n      try {\n        const rawHtml = await fetch(\n          `https://www.crxsoso.com/webstore/detail/${item.id}`\n        ).then((e) => e.text());\n        const $ = new DOMParser().parseFromString(rawHtml, "text/html");\n        const newVersion = [\n          ...[...$.querySelectorAll("#right-info > div")].filter(\n            (e) => e.innerText === "\u7248\u672c"\n          )[0].nextElementSibling.childNodes,\n        ]\n          .filter((e) => e instanceof Text)\n          .map((e) => e.textContent)\n          .join("")\n          .trim();\n        if (item.version != newVersion) {\n          updateList.push({\n            \u540d\u79f0: item.name,\n            \u5f53\u524d\u7248\u672c: item.version,\n            \u6700\u65b0\u7248\u672c: newVersion,\n            \u7f51\u5740: `https://www.crxsoso.com/webstore/detail/${item.id}`,\n          });\n        }\n      } catch {\n        updateList.push({\n          \u540d\u79f0: item.name,\n          \u5f53\u524d\u7248\u672c: item.version,\n          \u6700\u65b0\u7248\u672c: "\u65e0\u6cd5\u83b7\u53d6\u6700\u65b0\u7248\u672c",\n          \u7f51\u5740: `https://www.crxsoso.com/webstore/detail/${item.id}`,\n        });\n      }\n    }\n    if (updateList.length) {\n      console.log("\u53d1\u73b0\u4ee5\u4e0b\u66f4\u65b0");\n      console.table(updateList);\n      for (let item of updateList) {\n        console.log(item.\u540d\u79f0, item.\u7f51\u5740);\n      }\n    } else {\n      console.log("\u6269\u5c55\u90fd\u662f\u6700\u65b0\u7248\u672c\u4e86");\n    }\n  }\n})();\n'})})]})}function d(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},67541:function(e,n,t){t.d(n,{Z:function(){return a},a:function(){return s}});var o=t(50959);const r={},i=o.createContext(r);function s(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);