"use strict";(self.webpackChunkany_doc=self.webpackChunkany_doc||[]).push([[1762],{23371:function(t,e,n){n.r(e),n.d(e,{assets:function(){return d},contentTitle:function(){return i},default:function(){return l},frontMatter:function(){return a},metadata:function(){return s},toc:function(){return u}});var o=n(85893),r=n(11151);const a={last_update:{date:1694267720814}},i=void 0,s={id:"codeing/javascript/\u89c2\u5bdf\u5143\u7d20\u66f4\u6539",title:"\u89c2\u5bdf\u5143\u7d20\u66f4\u6539",description:"",source:"@site/docs/09-codeing/03-javascript/02-\u89c2\u5bdf\u5143\u7d20\u66f4\u6539.md",sourceDirName:"09-codeing/03-javascript",slug:"/codeing/javascript/\u89c2\u5bdf\u5143\u7d20\u66f4\u6539",permalink:"/codeing/javascript/\u89c2\u5bdf\u5143\u7d20\u66f4\u6539",draft:!1,unlisted:!1,editUrl:"https://github.com/share121/share121.github.io/edit/main/docs/09-codeing/03-javascript/02-\u89c2\u5bdf\u5143\u7d20\u66f4\u6539.md",tags:[],version:"current",lastUpdatedBy:"share121",lastUpdatedAt:1694267720.814,formattedLastUpdatedAt:"2023\u5e749\u67089\u65e5",sidebarPosition:2,frontMatter:{last_update:{date:1694267720814}},sidebar:"tutorialSidebar",previous:{title:"scope \u4f2a\u7c7b",permalink:"/codeing/javascript/scope \u4f2a\u7c7b"},next:{title:"\u4fee\u6539\u6587\u4ef6\u8bbf\u95ee\u65f6\u95f4\u3001\u4fee\u6539\u65f6\u95f4",permalink:"/codeing/javascript/\u4fee\u6539\u6587\u4ef6\u8bbf\u95ee\u65f6\u95f4\u3001\u4fee\u6539\u65f6\u95f4"}},d={},u=[];function c(t){const e={code:"code",pre:"pre",...(0,r.a)(),...t.components};return(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:"function observe(\n  callback: (\n    mutations: {\n      addedNodes: Node[];\n      targetNodes: Node[];\n      attributeName: string | null;\n      attributeNamespace: string | null;\n      nextSibling: Node | null;\n      oldValue: string | null;\n      previousSibling: Node | null;\n      removedNodes: Node[];\n      target: Node;\n      type: MutationRecordType;\n    }[],\n    observer: MutationObserver\n  ) => void,\n  target: Node,\n  options?: MutationObserverInit\n) {\n  function getAll(...nodes: Node[]) {\n    const tmp = [...nodes];\n    for (let i = 0; i < tmp.length; i++) {\n      tmp.push(...tmp[i].childNodes);\n    }\n    return tmp;\n  }\n  const observer = new MutationObserver((mutationsList) => {\n    callback(\n      mutationsList.map((mutation) => {\n        let _addedNodes: Node[] | null = null;\n        let _removedNodes: Node[] | null = null;\n        let _targetNodes: Node[] | null = null;\n        return {\n          type: mutation.type,\n          target: mutation.target,\n          attributeName: mutation.attributeName,\n          attributeNamespace: mutation.attributeNamespace,\n          oldValue: mutation.oldValue,\n          nextSibling: mutation.nextSibling,\n          previousSibling: mutation.previousSibling,\n          get addedNodes() {\n            _addedNodes ??= getAll(...mutation.addedNodes);\n            return _addedNodes;\n          },\n          get removedNodes() {\n            _removedNodes ??= getAll(...mutation.removedNodes);\n            return _removedNodes;\n          },\n          get targetNodes() {\n            _targetNodes ??= getAll(mutation.target);\n            return _targetNodes;\n          },\n        };\n      }),\n      observer\n    );\n  });\n  observer.observe(target, options);\n  return observer;\n}\n"})})}function l(t={}){const{wrapper:e}={...(0,r.a)(),...t.components};return e?(0,o.jsx)(e,{...t,children:(0,o.jsx)(c,{...t})}):c(t)}},11151:function(t,e,n){n.d(e,{Z:function(){return s},a:function(){return i}});var o=n(67294);const r={},a=o.createContext(r);function i(t){const e=o.useContext(a);return o.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function s(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(r):t.components||r:i(t.components),o.createElement(a.Provider,{value:e},t.children)}}}]);